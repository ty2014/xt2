<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>首页分类推荐</title>
    <link rel="stylesheet" href="../../js/layui/css/layui.css?2" media="all">
    <link rel="stylesheet" href="../../js/layui/css/layer.css?2">
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../css/index.css?v=1.0.1">
    <style>
        body, html {width: 100%;height: 100%;overflow-y: hidden;overflow-x: auto;min-width: 1247px;}
    </style>
</head>
<body id="chutiyan">

<!--

1、点击保存，同步微信端展示；
2、默认：推荐命名与分类名称相同，排序方式-销量，样式一，分类广告-关闭
3、分类广告图：放在当前分类的前面
4、右侧首页数量是多少，则左侧对应分类就展示几个

-->

<div class="scpz-top">
    <p class="title font20">商城首页-分类推荐</p>
</div>

<div class="scpz-body">
    <div class="scpz-body-l">
        <img src="../images/pz3.png" alt="">
        <div class="fl-pics">
            <img src="../images/pz3-1.png" alt="">
            <ul>
                <!--  样式一  -->
                <li>
                    <!--  图片广告  -->
                    <img src="../images/pz3-ad1.png" alt="">
                    <span>爆款女装</span>
                    <img src="../images/pz3-2.png" alt="">
                </li>
                <!--  样式二  -->
                <li>
                    <!--  代码广告  -->
                    <img src="../images/pz3-ad2.png" alt="">
                    <span>春夏新款</span>
                    <img src="../images/pz3-3.png" alt="">
                    <!--    当最后一排数量是1个时，最后一张图用此图片    -->
                    <img src="../images/pz3-3-1.png" alt="">
                </li>
                <!--  样式三  -->
                <li>
                    <!--  图片广告  -->
                    <img src="../images/pz3-ad1.png" alt="">
                    <span>春夏新款</span>
                    <img src="../images/pz3-4.png" alt="">
                    <!--    当最后一排数量是2个时，最后一张图用此图片    -->
                    <img src="../images/pz3-4-2.png" alt="">
                    <!--    当最后一排数量是1个时，最后一张图用此图片    -->
                    <img src="../images/pz3-4-1.png" alt="">
                </li>
                <!--  样式四  -->
                <li>
                    <!--  代码广告  -->
                    <img src="../images/pz3-ad2.png" alt="">
                    <span>春夏新款</span>
                    <img src="../images/pz3-5.png" alt="">
                    <!--    图片张数是可变的,根据右边设置来变化   -->
                    <em>1/10</em>
                </li>
                <!--  样式五  -->
                <li>
                    <!--  图片广告  -->
                    <img src="../images/pz3-ad1.png" alt="">
                    <span>春夏新款</span>
                    <img src="../images/pz3-6.png" alt="">
                </li>
            </ul>
        </div>
    </div>
    <div class="scpz-body-r fl-settins">
        <div class="settins-item">
            <div class="item-list">
                <span class="del">删除</span>
                <div class="list-cont">
                    推荐分类:
                    <div class="list-text"><input type="text" value="女装" readonly class="fl-chose"></div>
                </div>
            </div>
            <div class="item-list">
                <span class="prev disab">上移一层</span>
                <div class="list-cont">
                    推荐命名:
                    <div class="list-text"><input type="text" value="爆款女装"></div>
                </div>
                <div class="list-cont">
                    排序方式:
                    <div class="list-text">
                        <div class="slide-select">
                            <select>
                                <option value="1" selected="selected">销量</option>
                                <option value="2">上新</option>
                                <option value="3">推荐</option>
                            </select>
                            <img src="../../images/bottom-icon.jpg" alt="">
                        </div>
                    </div>
                </div>
            </div>
            <div class="item-list">
                <span class="next">下移一层</span>
                <div class="list-cont">
                    首页数量:
                    <div class="list-text dub-list-text">
                        <input type="text" value="8">
                        <div class="slide-select">
                            <select>
                                <option value="1" selected="selected">样式一</option>
                                <option value="2">样式二</option>
                                <option value="3">样式三</option>
                                <option value="4">样式四</option>
                                <option value="5">样式五</option>
                            </select>
                            <img src="../../images/bottom-icon.jpg" alt="">
                        </div>
                    </div>
                </div>
                <div class="list-cont">
                    分类广告:
                    <div class="list-text dub-list-text">
                        <!--
                            关闭：则左侧广告图消失
                            图片模式： 则左侧为图片广告
                            高级模式： 则左侧为代码自定义广告
                          -->
                        <div class="slide-select">
                            <select>
                                <option value="1">关闭</option>
                                <option value="2" selected="selected">图片模式</option>
                                <option value="3">高级模式</option>
                            </select>
                            <img src="../../images/bottom-icon.jpg" alt="">
                        </div>
                        <span class="fl-btn set-pic">设置图片</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="settins-item">
            <div class="item-list">
                <span class="del">删除</span>
                <div class="list-cont">
                    推荐分类:
                    <div class="list-text"><input type="text" value="连衣裙" readonly class="fl-chose"></div>
                </div>
            </div>
            <div class="item-list">
                <span class="prev">上移一层</span>
                <div class="list-cont">
                    推荐命名:
                    <div class="list-text"><input type="text" value="春夏新款"></div>
                </div>
                <div class="list-cont">
                    排序方式:
                    <div class="list-text">
                        <div class="slide-select">
                            <select>
                                <option value="1">销量</option>
                                <option value="2" selected="selected">上新</option>
                                <option value="3">推荐</option>
                            </select>
                            <img src="../../images/bottom-icon.jpg" alt="">
                        </div>
                    </div>
                </div>
            </div>
            <div class="item-list">
                <span class="next">下移一层</span>
                <div class="list-cont">
                    首页数量:
                    <div class="list-text dub-list-text">
                        <input type="text" value="10">
                        <div class="slide-select">
                            <select>
                                <option value="1">样式一</option>
                                <option value="2" selected="selected">样式二</option>
                                <option value="3">样式三</option>
                                <option value="4">样式四</option>
                                <option value="5">样式五</option>
                            </select>
                            <img src="../../images/bottom-icon.jpg" alt="">
                        </div>
                    </div>
                </div>
                <div class="list-cont">
                    分类广告:
                    <div class="list-text dub-list-text">
                        <div class="slide-select">
                            <select>
                                <option value="1">关闭</option>
                                <option value="2">图片模式</option>
                                <option value="3" selected="selected">高级模式</option>
                            </select>
                            <img src="../../images/bottom-icon.jpg" alt="">
                        </div>
                        <span class="fl-btn code-zdy">代码定义</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="settins-item">
            <div class="item-list">
                <span class="del">删除</span>
                <div class="list-cont">
                    推荐分类:
                    <div class="list-text"><input type="text" value="连衣裙" readonly class="fl-chose"></div>
                </div>
            </div>
            <div class="item-list">
                <span class="prev">上移一层</span>
                <div class="list-cont">
                    推荐命名:
                    <div class="list-text"><input type="text" value="春夏新款"></div>
                </div>
                <div class="list-cont">
                    排序方式:
                    <div class="list-text">
                        <div class="slide-select">
                            <select>
                                <option value="1" selected="selected">销量</option>
                                <option value="2">上新</option>
                                <option value="3">推荐</option>
                            </select>
                            <img src="../../images/bottom-icon.jpg" alt="">
                        </div>
                    </div>
                </div>
            </div>
            <div class="item-list">
                <span class="next">下移一层</span>
                <div class="list-cont">
                    首页数量:
                    <div class="list-text dub-list-text">
                        <input type="text" value="10">
                        <div class="slide-select">
                            <select>
                                <option value="1">样式一</option>
                                <option value="2">样式二</option>
                                <option value="3" selected="selected">样式三</option>
                                <option value="4">样式四</option>
                                <option value="5">样式五</option>
                            </select>
                            <img src="../../images/bottom-icon.jpg" alt="">
                        </div>
                    </div>
                </div>
                <div class="list-cont">
                    分类广告:
                    <div class="list-text dub-list-text">
                        <div class="slide-select">
                            <select>
                                <option value="1">关闭</option>
                                <option value="2" selected="selected">图片模式</option>
                                <option value="3">高级模式</option>
                            </select>
                            <img src="../../images/bottom-icon.jpg" alt="">
                        </div>
                        <span class="fl-btn set-pic">设置图片</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="settins-item">
            <div class="item-list">
                <span class="del">删除</span>
                <div class="list-cont">
                    推荐分类:
                    <div class="list-text"><input type="text" value="连衣裙" readonly class="fl-chose"></div>
                </div>
            </div>
            <div class="item-list">
                <span class="prev">上移一层</span>
                <div class="list-cont">
                    推荐命名:
                    <div class="list-text"><input type="text" value="春夏新款"></div>
                </div>
                <div class="list-cont">
                    排序方式:
                    <div class="list-text">
                        <div class="slide-select">
                            <select>
                                <option value="1">销量</option>
                                <option value="2" selected="selected">上新</option>
                                <option value="3">推荐</option>
                            </select>
                            <img src="../../images/bottom-icon.jpg" alt="">
                        </div>
                    </div>
                </div>
            </div>
            <div class="item-list">
                <span class="next">下移一层</span>
                <div class="list-cont">
                    首页数量:
                    <div class="list-text dub-list-text">
                        <input type="text" value="10">
                        <div class="slide-select">
                            <select>
                                <option value="1">样式一</option>
                                <option value="2">样式二</option>
                                <option value="3">样式三</option>
                                <option value="4" selected="selected">样式四</option>
                                <option value="5">样式五</option>
                            </select>
                            <img src="../../images/bottom-icon.jpg" alt="">
                        </div>
                    </div>
                </div>
                <div class="list-cont">
                    分类广告:
                    <div class="list-text dub-list-text">
                        <div class="slide-select">
                            <select>
                                <option value="1">关闭</option>
                                <option value="2">图片模式</option>
                                <option value="3" selected="selected">高级模式</option>
                            </select>
                            <img src="../../images/bottom-icon.jpg" alt="">
                        </div>
                        <span class="fl-btn code-zdy">代码定义</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="settins-item">
            <div class="item-list">
                <span class="del">删除</span>
                <div class="list-cont">
                    推荐分类:
                    <div class="list-text"><input type="text" value="连衣裙" readonly class="fl-chose"></div>
                </div>
            </div>
            <div class="item-list">
                <span class="prev">上移一层</span>
                <div class="list-cont">
                    推荐命名:
                    <div class="list-text"><input type="text" value="春夏新款"></div>
                </div>
                <div class="list-cont">
                    排序方式:
                    <div class="list-text">
                        <div class="slide-select">
                            <select>
                                <option value="1" selected="selected">销量</option>
                                <option value="2">上新</option>
                                <option value="3">推荐</option>
                            </select>
                            <img src="../../images/bottom-icon.jpg" alt="">
                        </div>
                    </div>
                </div>
            </div>
            <div class="item-list">
                <span class="next">下移一层</span>
                <div class="list-cont">
                    首页数量:
                    <div class="list-text dub-list-text">
                        <input type="text" value="10">
                        <div class="slide-select">
                            <select>
                                <option value="1">样式一</option>
                                <option value="2">样式二</option>
                                <option value="3">样式三</option>
                                <option value="4">样式四</option>
                                <option value="5" selected="selected">样式五</option>
                            </select>
                            <img src="../../images/bottom-icon.jpg" alt="">
                        </div>
                    </div>
                </div>
                <div class="list-cont">
                    分类广告:
                    <div class="list-text dub-list-text">
                        <div class="slide-select">
                            <select>
                                <option value="1">关闭</option>
                                <option value="2" selected="selected">图片模式</option>
                                <option value="3">高级模式</option>
                            </select>
                            <img src="../../images/bottom-icon.jpg" alt="">
                        </div>
                        <span class="fl-btn set-pic">设置图片</span>
                    </div>
                </div>
            </div>
        </div>
        <!--  初始化时，默认展示这一个  -->
        <div class="settins-item">
            <div class="item-list">
                <span class="del">删除</span>
                <div class="list-cont">
                    推荐分类:
                    <div class="list-text"><input type="text" placeholder="选择分类" readonly class="fl-chose"></div>
                </div>
            </div>
            <div class="item-list">
                <span class="prev">上移一层</span>
                <div class="list-cont">
                    推荐命名:
                    <div class="list-text"><input type="text" placeholder="推荐分类命名" class="fl-chose"></div>
                </div>
                <div class="list-cont">
                    排序方式:
                    <div class="list-text">
                        <div class="slide-select">
                            <select>
                                <option value="1" selected="selected">销量</option>
                                <option value="2">上新</option>
                                <option value="3">推荐</option>
                            </select>
                            <img src="../../images/bottom-icon.jpg" alt="">
                        </div>
                    </div>
                </div>
            </div>
            <div class="item-list">
                <span class="next disab">下移一层</span>
                <div class="list-cont">
                    首页数量:
                    <div class="list-text dub-list-text">
                        <input type="text" value="1">
                        <div class="slide-select">
                            <select>
                                <option value="1" selected="selected">样式一</option>
                                <option value="2">样式二</option>
                                <option value="3">样式三</option>
                                <option value="4">样式四</option>
                                <option value="5">样式五</option>
                            </select>
                            <img src="../../images/bottom-icon.jpg" alt="">
                        </div>
                    </div>
                </div>
                <div class="list-cont">
                    分类广告:
                    <div class="list-text dub-list-text">
                        <div class="slide-select">
                            <select>
                                <option value="1" selected="selected">关闭</option>
                                <option value="2">图片模式</option>
                                <option value="3">高级模式</option>
                            </select>
                            <img src="../../images/bottom-icon.jpg" alt="">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="settins-foot">
            <span class="add">添加</span>
            <span class="save">保存</span>
        </div>
    </div>
</div>

<script src="../../js/jquery.min.js"></script>
<script src="../../js/layui/lay/modules/layer.js"></script>
<script src="../../js/layui/layui.js"></script>

<script>

    $(function () {
        $('#chutiyan ').on('click','.fl-chose', function(){
            //iframe层
            layer.open({
                type: 2,
                title: '分类列表',
                shadeClose: true,
                shade: 0.3,
                maxmin: true, //开启最大化最小化按钮
                area: ['90%', '90%'],
                content: '选择分类.html' //iframe的url
            });
        });
        $('#chutiyan ').on('click','.set-pic', function(){
            //iframe层
            layer.open({
                type: 2,
                title: '设置图片（确定后，需保存生效）',
                shadeClose: true,
                shade: 0.3,
                maxmin: true, //开启最大化最小化按钮
                area: ['800px', '400px'],
                content: '首页分类推荐-设置图片.html' //iframe的url
            });
        });
        $('#chutiyan ').on('click','.code-zdy', function(){
            //iframe层
            layer.open({
                type: 2,
                title: '代码定义（确定后，需保存生效）',
                shadeClose: true,
                shade: 0.3,
                maxmin: true, //开启最大化最小化按钮
                area: ['60%', '70%'],
                content: '首页分类推荐-代码定义.html' //iframe的url
            });
        });

        $('.slide-select select').click(function () {
            var op = $(this).find("option:selected").html();
            console.log(op);
            if(op==='关闭'){
                $(this).parent().siblings('.fl-btn').remove();
            }else if(op==='图片模式'){
                $(this).parent().siblings('.code-zdy').remove();
                $(this).parent().siblings('.set-pic').remove();
                $(this).parent().parent().append('<span class="fl-btn set-pic">设置图片</span>');
            }else if(op==='高级模式'){
                $(this).parent().siblings('.set-pic').remove();
                $(this).parent().siblings('.code-zdy').remove();
                $(this).parent().parent().append('<span class="fl-btn code-zdy">代码定义</span>');
            }
        });


        $(document).click(function(event){
            $(".select-cont ul").hide();
            $('.select-txt').removeClass('on');
            event.stopPropagation();    //  阻止事件冒泡
        });
        var t=$(".fl-pics ul li");
        var top=parseInt($(".fl-pics > img").offset().top);
        var top0=parseInt(t.eq(0).offset().top) - top;
        var top1=parseInt(t.eq(1).offset().top) - top;
        var top2=parseInt(t.eq(2).offset().top) - top;
        var top3=parseInt(t.eq(3).offset().top) - top;
        var top4=parseInt(t.eq(4).offset().top) - top;
        console.log(top0,top1,top2,top3,top4);


        for(var j=0;j<=$('.settins-item').length;j++){
            var chose=$('.fl-pics');
            $('.settins-item').eq(j).click(function () {
                switch ($(this).index()) {
                    case 0:
                        chose.animate({scrollTop:0},200);
                        break;
                    case 1:
                        chose.animate({scrollTop:top1},200);
                        break;
                    case 2:
                        chose.animate({scrollTop:top2},200);
                        break;
                    case 3:
                        chose.animate({scrollTop:top3},200);
                        break;
                    case 4:
                        chose.animate({scrollTop:top4},200);
                        break;
                }


            });
        }
    });


</script>

</body>
</html>