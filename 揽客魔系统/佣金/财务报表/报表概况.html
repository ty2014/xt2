<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>报表概况</title>
    <link rel="stylesheet" href="../../css/font-awesome.css"/>
    <link rel="stylesheet" href="../../js/layui/css/layui.css" media="all">
    <link rel="stylesheet" href="../../js/layui/css/layer.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="css/cwbb.css"/>
    <style>
        body{padding: 8px;background: #f2f2f2;}
    </style>
</head>
<body id="chutiyan" style="">

<!--  顶部时间  -->
<section>
    <div class="topBar">
        <div class="contL">
            <span>时间:</span>
            <div class="slide-span"><span>今天</span><span class="active">昨天</span><span>最近7天</span><span>最近30天</span></div>
            <div class="slide-input"><input type="text" class="layui-input" id="test1"></div>
        </div>
        <div class="contR"><span>更新时间：2021-03-11 10:00:00</span></div>
    </div>
</section>

<!--  收入  -->
<section>
    <ul class="topSlide">
        <li>
            <p class="txt1">收入总金额（元）<i class="tips2"></i></p>
            <p class="txt2">23,456,789.00</p>
            <p class="txt3">收入数量(笔)：5678</p>
            <img src="images/topIcon1.png" alt="" class="icon">
            <img src="images/topIconFoot.png" alt="" class="icon2">
        </li>
        <li>
            <p class="txt1">净收益（元）<i class="tips2"></i></p>
            <p class="txt2">23,456,789.00</p>
            <img src="images/topIcon2.png" alt="" class="icon">
            <img src="images/topIconFoot.png" alt="" class="icon2">
        </li>
        <li>
            <p class="txt1">已支出金额（元）<i class="tips2"></i></p>
            <p class="txt2">23,456,789.00</p>
            <p class="txt3">已支出数量(笔)：5678</p>
            <img src="images/topIcon3.png" alt="" class="icon">
            <img src="images/topIconFoot.png" alt="" class="icon2">
        </li>
        <li>
            <p class="txt1">预支出金额（元）<i class="tips2"></i></p>
            <p class="txt2">23,456,789.00</p>
            <p class="txt3">预支出数量(笔)：5678</p>
            <img src="images/topIcon4.png" alt="" class="icon">
            <img src="images/topIconFoot.png" alt="" class="icon2">
        </li>
        <li>
            <p class="txt1">申请提现金额（元）<i class="tips2"></i></p>
            <p class="txt2">23,456,789.00</p>
            <p class="txt3">申请提现数量(笔)：5678</p>
            <img src="images/topIcon5.png" alt="" class="icon">
            <img src="images/topIconFoot.png" alt="" class="icon2">
        </li>
    </ul>
</section>

<!--  收支情况走势  -->
<section>
    <div class="headBar">
        <span>整体看板</span>
        <ul>
            <li class="active">收支情况走势</li>
            <li>收入来源分析</li>
            <li>支出数据分析</li>
        </ul>
    </div>
    <div id="mainLine1" class="main" style="height: 556px;"></div>
    <div id="mainCont2" class="dub-cont" style="display: none">
        <div class="contL">
            <ul class="data_cont1">
                <li>
                    <img src="images/icon1.png" alt="">
                    <div>
                        <p>收入笔数（笔）<i class="tips"></i></p>
                        <span>46</span>
                    </div>
                </li>
                <li>
                    <img src="images/icon3.png" alt="">
                    <div>
                        <p>收入总金额（元）<i class="tips"></i></p>
                        <span>183,080.00</span>
                    </div>
                </li>
                <li>
                    <img src="images/icon2.png" alt="">
                    <div>
                        <p>客单价（元）<i class="tips"></i></p>
                        <span>3,980.00</span>
                    </div>
                </li>
            </ul>
            <div class="normal-table">
                <table>
                    <thead>
                    <tr>
                        <th style="width: 100px">类别</th>
                        <th style="width: 100px">系列课</th>
                        <th style="width: 100px">干货专栏</th>
                        <th style="width: 100px">会员裂变</th>
                        <th style="width: 100px">商城</th>
                        <th style="width: 100px">打赏</th>
                        <th style="width: 100px">直播话题</th>
                        <th style="width: 100px">直播主题</th>
                        <th style="width: 100px">直播商品</th>
                        <th style="width: 100px">线下扣佣</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>收入笔数</td>
                        <td>1</td>
                        <td>2</td>
                        <td>3</td>
                        <td>4</td>
                        <td>5</td>
                        <td>6</td>
                        <td>7</td>
                        <td>8</td>
                        <td>0</td>
                    </tr>
                    <tr>
                        <td>收入金额</td>
                        <td>3,980.00</td>
                        <td>7,960.00</td>
                        <td>10,000.00</td>
                        <td>15,920.00</td>
                        <td>19,900.00</td>
                        <td>23,880.00</td>
                        <td>27,860.00</td>
                        <td>31,840.00</td>
                        <td>0</td>
                    </tr>
                    <tr>
                        <td>占总比</td>
                        <td>2.8%</td>
                        <td>5.6%</td>
                        <td>7.1%</td>
                        <td>11.3%</td>
                        <td>14.1%</td>
                        <td>16.9%</td>
                        <td>19.7%</td>
                        <td>22.5%</td>
                        <td>0%</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="contR">
            <div id="mainpie1" class="main" style="height: 100%;"></div>
            <div class="charts_title">
                <p>183,080.00</p>
                <span>收入总金额（元）</span>
            </div>
        </div>
    </div>
    <div id="mainCont3" class="dub-cont" style="display: none">
        <div class="contL">
            <ul class="data_cont1">
                <li>
                    <img src="images/icon1.png" alt="">
                    <div>
                        <p>支出笔数（笔）<i class="tips"></i></p>
                        <span>46</span>
                    </div>
                </li>
                <li>
                    <img src="images/icon3.png" alt="">
                    <div>
                        <p>支出总金额（元）<i class="tips"></i></p>
                        <span>183,080.00</span>
                    </div>
                </li>
            </ul>
            <div class="normal-table">
                <table>
                    <thead>
                    <tr>
                        <th style="width: 100px">类别</th>
                        <th style="width: 100px">已支出</th>
                        <th style="width: 100px">预支出</th>
                        <th style="width: 100px">申请提现</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>支出笔数</td>
                        <td>1</td>
                        <td>2</td>
                        <td>22</td>
                    </tr>
                    <tr>
                        <td>支出金额</td>
                        <td>3,980.00</td>
                        <td>7,960.00</td>
                        <td>10,000.00</td>
                    </tr>
                    <tr>
                        <td>占总比</td>
                        <td>18.1%</td>
                        <td>36.3%</td>
                        <td>45.6%</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="contR">
            <div id="mainpie2" class="main" style="height: 100%;"></div>
            <div class="charts_title">
                <p>21,940.00</p>
                <span>支出总金额（元）</span>
            </div>
        </div>
    </div>
</section>


<div class="dub-cont">
    <!--  客单价  -->
    <section>
        <div class="headBar">
            <span>客单价<i class="tips"></i></span>
        </div>
        <div class="top_content">
            <p class="date">当前时间段：4月15日  23:00-23:59</p>
            <div class="msg_cont">
                <span class="total_num">3980<em>元</em></span>
                <ul class="list_num">
                    <li>
                        <p>环比<span class="up">6.12%</span></p>
                        <p>同比<span class="down">57.58%</span></p>
                    </li>
                    <li>
                        <p>合计<span>31,840</span>元</p>
                        <p>均值<span>3,980</span>元</p>
                    </li>
                </ul>
            </div>
        </div>
        <div id="mainLine2" class="main" style="height: 445px;"></div>
    </section>
    <!--  单品销量排行榜  -->
    <section>
        <div class="headBar">
            <span>单品销量排行榜<i class="tips"></i></span>
        </div>
        <div class="tab_cont">
            <div class="normal-table">
                <table>
                    <thead>
                    <tr>
                        <th style="width: 100px">排名</th>
                        <th style="width: 100px">标题</th>
                        <th style="width: 100px">所属类别</th>
                        <th style="width: 100px">交易数量</th>
                        <th style="width: 100px">交易金额</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr style="background: #fff">
                        <td colspan="5"><div class="null-msg"><img src="../../images/null-msg.png" alt="">暂无数据</div></td>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td><a class="wrap-noml">直播疯狂掘金</a></td>
                        <td>系列课</td>
                        <td>7</td>
                        <td>27,860.00</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td><a class="wrap-noml">直播疯狂掘金</a></td>
                        <td>系列课</td>
                        <td>7</td>
                        <td>27,860.00</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td><a class="wrap-noml">直播疯狂掘金</a></td>
                        <td>系列课</td>
                        <td>7</td>
                        <td>27,860.00</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td><a class="wrap-noml">直播疯狂掘金</a></td>
                        <td>系列课</td>
                        <td>7</td>
                        <td>27,860.00</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td><a class="wrap-noml">直播疯狂掘金</a></td>
                        <td>系列课</td>
                        <td>7</td>
                        <td>27,860.00</td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td><a class="wrap-noml">直播疯狂掘金</a></td>
                        <td>系列课</td>
                        <td>7</td>
                        <td>27,860.00</td>
                    </tr>
                    <tr>
                        <td>7</td>
                        <td><a class="wrap-noml">直播疯狂掘金</a></td>
                        <td>系列课</td>
                        <td>7</td>
                        <td>27,860.00</td>
                    </tr>
                    <tr>
                        <td>8</td>
                        <td><a class="wrap-noml">直播疯狂掘金</a></td>
                        <td>系列课</td>
                        <td>7</td>
                        <td>27,860.00</td>
                    </tr>
                    <tr>
                        <td>9</td>
                        <td><a class="wrap-noml">直播疯狂掘金</a></td>
                        <td>系列课</td>
                        <td>7</td>
                        <td>27,860.00</td>
                    </tr>
                    <tr>
                        <td>10</td>
                        <td><a class="wrap-noml">直播疯狂掘金</a></td>
                        <td>系列课</td>
                        <td>7</td>
                        <td>27,860.00</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>
</div>

<div class="dub-cont">
    <!--  订单量  -->
    <section>
        <div class="headBar">
            <span>订单量<i class="tips"></i></span>
        </div>
        <div class="top_content">
            <p class="date">当前时间段：4月15日  23:00-23:59</p>
            <div class="msg_cont">
                <span class="total_num">66<em>个</em></span>
                <ul class="list_num">
                    <li>
                        <p>环比<span class="up">6.12%</span></p>
                        <p>同比<span class="down">57.58%</span></p>
                    </li>
                    <li>
                        <p>合计<span>31,840</span>个</p>
                        <p>均值<span>3,980</span>个</p>
                    </li>
                </ul>
            </div>
        </div>
        <div id="mainLine3" class="main" style="height: 445px;"></div>
    </section>
    <!-- 下单人数   -->
    <section>
        <div class="headBar">
            <span>下单人数<i class="tips"></i></span>
        </div>
        <div class="top_content">
            <p class="date">当前时间段：4月15日  23:00-23:59</p>
            <div class="msg_cont">
                <span class="total_num">67<em>人</em></span>
                <ul class="list_num">
                    <li>
                        <p>环比<span class="up">6.12%</span></p>
                        <p>同比<span class="down">57.58%</span></p>
                    </li>
                    <li>
                        <p>合计<span>31,840</span>人</p>
                        <p>均值<span>3,980</span>人</p>
                    </li>
                </ul>
            </div>
        </div>
        <div id="mainLine4" class="main" style="height: 445px;"></div>
    </section>
</div>

<!--  基础明细  -->
<section>
    <div class="headBar">
        <span>基础明细快捷查看</span>
    </div>
    <div class="speed_content">
        <div class="speed_item">
            <div class="item_cont1">
                <img src="images/msgIcon1.png" alt="" class="icon">
                <div class="txt1">
                    <p>系列课订单数(笔)</p>
                    <span>64</span>
                </div>
                <a href="" class="txt2">详情</a>
            </div>
            <ul>
                <li><span>收入(元)：</span>1645.00</li>
                <li><span>支出(元)：</span>345.00</li>
                <li><span>收益(元)：</span>1300.00</li>
            </ul>
        </div>
        <div class="speed_item">
            <div class="item_cont1">
                <img src="images/msgIcon2.png" alt="" class="icon">
                <div class="txt1">
                    <p>系列课订单数(笔)</p>
                    <span>64</span>
                </div>
                <a href="" class="txt2">详情</a>
            </div>
            <ul>
                <li><span>收入(元)：</span>1645.00</li>
                <li><span>支出(元)：</span>345.00</li>
                <li><span>收益(元)：</span>1300.00</li>
            </ul>
        </div>
        <div class="speed_item">
            <div class="item_cont1">
                <img src="images/msgIcon3.png" alt="" class="icon">
                <div class="txt1">
                    <p>系列课订单数(笔)</p>
                    <span>64</span>
                </div>
                <a href="" class="txt2">详情</a>
            </div>
            <ul>
                <li><span>收入(元)：</span>1645.00</li>
                <li><span>支出(元)：</span>345.00</li>
                <li><span>收益(元)：</span>1300.00</li>
            </ul>
        </div>
        <div class="speed_item">
            <div class="item_cont1">
                <img src="images/msgIcon4.png" alt="" class="icon">
                <div class="txt1">
                    <p>系列课订单数(笔)</p>
                    <span>64</span>
                </div>
                <a href="" class="txt2">详情</a>
            </div>
            <ul>
                <li><span>收入(元)：</span>1645.00</li>
                <li><span>支出(元)：</span>345.00</li>
                <li><span>收益(元)：</span>1300.00</li>
            </ul>
        </div>
        <div class="speed_item">
            <div class="item_cont1">
                <img src="images/msgIcon5.png" alt="" class="icon">
                <div class="txt1">
                    <p>系列课订单数(笔)</p>
                    <span>64</span>
                </div>
                <a href="" class="txt2">详情</a>
            </div>
            <ul>
                <li><span>收入(元)：</span>1645.00</li>
                <li><span>支出(元)：</span>345.00</li>
                <li><span>收益(元)：</span>1300.00</li>
            </ul>
        </div>
        <div class="speed_item">
            <div class="item_cont1">
                <img src="images/msgIcon6.png" alt="" class="icon">
                <div class="txt1">
                    <p>系列课订单数(笔)</p>
                    <span>64</span>
                </div>
                <a href="" class="txt2">详情</a>
            </div>
            <ul>
                <li><span>收入(元)：</span>1645.00</li>
                <li><span>支出(元)：</span>345.00</li>
                <li><span>收益(元)：</span>1300.00</li>
            </ul>
        </div>
        <div class="speed_item">
            <div class="item_cont1">
                <img src="images/msgIcon7.png" alt="" class="icon">
                <div class="txt1">
                    <p>系列课订单数(笔)</p>
                    <span>64</span>
                </div>
                <a href="" class="txt2">详情</a>
            </div>
            <ul>
                <li><span>收入(元)：</span>1645.00</li>
                <li><span>支出(元)：</span>345.00</li>
                <li><span>收益(元)：</span>1300.00</li>
            </ul>
        </div>
        <div class="speed_item">
            <div class="item_cont1">
                <img src="images/msgIcon8.png" alt="" class="icon">
                <div class="txt1">
                    <p>系列课订单数(笔)</p>
                    <span>64</span>
                </div>
                <a href="" class="txt2">详情</a>
            </div>
            <ul>
                <li><span>收入(元)：</span>1645.00</li>
                <li><span>支出(元)：</span>345.00</li>
                <li><span>收益(元)：</span>1300.00</li>
            </ul>
        </div>
        <div class="speed_item">
            <div class="item_cont1">
                <img src="images/msgIcon9.png" alt="" class="icon">
                <div class="txt1">
                    <p>系列课订单数(笔)</p>
                    <span>64</span>
                </div>
                <a href="" class="txt2">详情</a>
            </div>
            <ul>
                <li><span>收入(元)：</span>1645.00</li>
                <li><span>支出(元)：</span>345.00</li>
                <li><span>收益(元)：</span>1300.00</li>
            </ul>
        </div>
        <div class="speed_item">
            <div class="item_cont1">
                <img src="images/msgIcon10.png" alt="" class="icon">
                <div class="txt1">
                    <p>系列课订单数(笔)</p>
                    <span>64</span>
                </div>
                <a href="" class="txt2">详情</a>
            </div>
            <ul>
                <li><span>收入(元)：</span>1645.00</li>
                <li><span>支出(元)：</span>345.00</li>
                <li><span>收益(元)：</span>1300.00</li>
            </ul>
        </div>
    </div>
</section>


<script src="../../js/jquery.min.js"></script>
<script src="../../js/echarts.js"></script>
<script src="../../js/layui/lay/modules/layer.js"></script>
<script src="../../js/layui/layui.js"></script>
<script src="../../js/myjs.js"></script>
<script type="text/javascript">

    layui.use('laydate', function(){
        var laydate = layui.laydate;
        //执行一个laydate实例
        laydate.render({
            elem: '#test1' //指定元素
            ,type: 'date'
            ,calendar: true
            ,trigger: 'click'
            ,range: '至'
            ,format: 'yyyy-MM-dd'
            ,value: '2021-05-01 至 2021-05-31'
        });
    });

    $('#chutiyan .topSlide .tips2').on('mouseenter',function(){
        var arr = ['111','222','333','444','555','666','777','888'];
        var index = $(this).parent().parent().index();
        this.index =layer.tips(arr[index], this, {
            tips: [1, '#000'], time: -1 ,maxWidth:600
        });
    }).on('mouseleave',function(){
        layer.close(this.index);
    });



    $('.headBar ul li').click(function () {
        $(this).addClass('active').siblings().removeClass('active');
    });


    var charts=[];
    //
    var mainLine1 = echarts.init(document.getElementById('mainLine1'));
    var mainLine2 = echarts.init(document.getElementById('mainLine2'));
    var mainLine3 = echarts.init(document.getElementById('mainLine3'));
    var mainLine4 = echarts.init(document.getElementById('mainLine4'));
    var mainpie1 = echarts.init(document.getElementById('mainpie1'));
    var mainpie2 = echarts.init(document.getElementById('mainpie2'));

    //
    var xlineData = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23];
    var ylineData = ["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","50"];
    var ylineData2 = ["10","20","40","30","70","50","100","150","240","340","150","100","450","700","800","850","900","850","950","430","200","150","50"];
    var ylineData3 = ["50","40","100","200","150","200","250","300","350","300","450","400","500","550","450","300","600","800","700","650","750","850","50"];
    optionLine1 = {
        // 提示框
        tooltip: {
            trigger: 'axis',
            axisPointer: {            // 坐标轴指示器，坐标轴触发有效
                type: 'line'        // 默认为直线，可选为：'line' | 'shadow'
                ,lineStyle:{
                    color:'#e6e6e6',
                    type:'solid'    // solid、dashed、dotted
                }
            },
            formatter:function (params) {

                function timeNumer(t) {
                    var t1=t,
                        t2=t++,
                        t3=t1+':00-'+t2+':59';
                    return t3;
                }
                let res ='<div style="display: flex;justify-content: space-between;background: #f7f8fa;border-bottom: 1px solid #e8ebee;padding: 8px 10px;"><span>'+ timeNumer(params[0].name) + '</span>'+'</div>';

                for (let i = 0, l = params.length; i < l; i++) {
                    res += '<div style="width: 200px;display: flex;justify-content: space-between;padding: 4px 10px;margin:5px 0;"><div><span style="margin-right: 2px;">'+params[i].marker +'</span>' + '<span>'+ params[i].seriesName +'</span></div>' + '<span>'+params[i].value +'</span></div>';
                }
                return res
            },
            confine:true,        //是否将 tooltip 框限制在图表的区域内。
            backgroundColor:'#fff',
            borderColor:'#e7eaed',
            borderRadius:5,
            padding:0,
            textStyle:{
                color:'#666',
                fontSize:12
            },
            extraCssText:'box-shadow: 0px 0px 20px 0px rgba(86, 96, 118, 0.2)',
        },
        legend: {
            left: '40',
            top: '30',
            //bottom:32,
            textStyle: {
                color: '#333',
                fontSize: 14,
            },
            itemGap:40,
            itemWidth:10,
            itemHeight:10,
            align:'auto',
            icon: 'rect', //'circle', 'rect', 'roundRect', 'triangle', 'diamond', 'pin', 'arrow', 'none'
            data: ['收入','支出','净收益'],
            selected: { // false 代表不选中
                // '报名量': false,
            }
        },
        grid: {
            right: '50px',
            bottom: '50px',
            left: '40px',
            top: '100px',
            containLabel: true
        },
        xAxis: [{
            type: 'category',
            data: xlineData ,
            axisLine: {
                show: true,
                lineStyle: {
                    color: '#d5d5d5',
                    backgroundColor: "#d5d5d5",
                    width:'2',
                }
            },
            axisTick: {
                show: false,
            },
            axisLabel: {
                show: true,
                interval: 1,    //  隔多少个显示下一个
                textStyle: {
                    color: "#333",
                    fontSize: 16,
                    backgroundColor: "#fff",
                },
            },
            offset:15,  // x 轴文字距离轴的距离
            boundaryGap:true   // 是否从 0 刻度开始

        }],
        yAxis: [{
            type: 'value',
            axisLine: {
                show:false,
                lineStyle: {
                    color: '#999'
                }
            },
            splitLine: {
                lineStyle: {
                    color: "#f1f1f1",
                    //type:"dashed"    // 虚线
                }
            },
            axisTick:{
                show:false
            },
            axisLabel: {
                show:true,
                color: '#999',
                fontSize: 16,
            },

        }],
        // 系列列表
        series: [
            {
                name: '收入',
                type: 'line',
                symbolSize: 6,
                itemStyle: {
                    normal: {
                        color: '#157bfb',
                        lineStyle: {
                            color: "#157bfb",
                            width:2
                        },
                        areaStyle: {
                            color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [{
                                offset: 0,
                                color: 'rgba(21,123,251,0)'
                            }, {
                                offset: 1,
                                color: 'rgba(21,123,251,.1)'
                            }]),
                        }
                    }
                },
                data: ylineData
            },
            {
                name: '支出',
                type: 'line',
                symbolSize: 6,
                itemStyle: {
                    normal: {
                        color: '#f2cf24',
                        lineStyle: {
                            color: "#f2cf24",
                            width:2
                        },
                        areaStyle: {
                            color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [{
                                offset: 0,
                                color: 'rgba(242,207,36,0)'
                            }, {
                                offset: 1,
                                color: 'rgba(242,207,36,.1)'
                            }]),
                        }
                    }
                },
                data: ylineData2
            },
            {
                name: '净收益',
                type: 'line',
                symbolSize: 6,
                itemStyle: {
                    normal: {
                        color: '#ff8533',
                        lineStyle: {
                            color: "#ff8533",
                            width:2
                        },
                        areaStyle: {
                            color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [{
                                offset: 0,
                                color: 'rgba(255,133,51,0)'
                            }, {
                                offset: 1,
                                color: 'rgba(255,133,51,.1)'
                            }]),
                        }
                    }
                },
                data: ylineData3
            },
        ]
    };
    optionLine2 = {
        // 提示框
        tooltip: {
            trigger: 'axis',
            axisPointer: {            // 坐标轴指示器，坐标轴触发有效
                type: 'line'        // 默认为直线，可选为：'line' | 'shadow'
                ,lineStyle:{
                    color:'#e6e6e6',
                    type:'solid'    // solid、dashed、dotted
                }
            },
            formatter:function (params) {

                function timeNumer(t) {
                    var t1=t,
                        t2=t++,
                        t3=t1+':00-'+t2+':59';
                    return t3;
                }
                let res ='<div style="display: flex;justify-content: space-between;background: #f7f8fa;border-bottom: 1px solid #e8ebee;padding: 8px 10px;"><span>'+ timeNumer(params[0].name) + '</span>'+'</div>';

                for (let i = 0, l = params.length; i < l; i++) {
                    res += '<div style="width: 200px;display: flex;justify-content: space-between;padding: 4px 10px;margin:5px 0;"><div><span style="margin-right: 2px;">'+params[i].marker +'</span>' + '<span>'+ params[i].seriesName +'</span></div>' + '<span>'+params[i].value +'</span></div>';
                }
                return res
            },
            confine:true,        //是否将 tooltip 框限制在图表的区域内。
            backgroundColor:'#fff',
            borderColor:'#e7eaed',
            borderRadius:5,
            padding:0,
            textStyle:{
                color:'#666',
                fontSize:12
            },
            extraCssText:'box-shadow: 0px 0px 20px 0px rgba(86, 96, 118, 0.2)',
        },

        grid: {
            right: '50px',
            bottom: '50px',
            left: '40px',
            top: '10px',
            containLabel: true
        },
        xAxis: [{
            type: 'category',
            data: xlineData ,
            axisLine: {
                show: true,
                lineStyle: {
                    color: '#d5d5d5',
                    backgroundColor: "#d5d5d5",
                    width:'2',
                }
            },
            axisTick: {
                show: false,
            },
            axisLabel: {
                show: true,
                interval: 1,    //  隔多少个显示下一个
                textStyle: {
                    color: "#333",
                    fontSize: 16,
                    backgroundColor: "#fff",
                },
            },
            offset:15,  // x 轴文字距离轴的距离
            boundaryGap:true   // 是否从 0 刻度开始

        }],
        yAxis: [{
            type: 'value',
            axisLine: {
                show:false,
                lineStyle: {
                    color: '#999'
                }
            },
            splitLine: {
                lineStyle: {
                    color: "#f1f1f1",
                    //type:"dashed"    // 虚线
                }
            },
            axisTick:{
                show:false
            },
            axisLabel: {
                show:true,
                color: '#999',
                fontSize: 16,
            },

        }],
        // 系列列表
        series: [
            {
                name: '浏览量',
                type: 'line',
                symbolSize: 6,
                itemStyle: {
                    normal: {
                        color: '#157bfb',
                        lineStyle: {
                            color: "#157bfb",
                            width:2
                        },
                        areaStyle: {
                            color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [{
                                offset: 0,
                                color: 'rgba(21,123,251,0)'
                            }, {
                                offset: 1,
                                color: 'rgba(21,123,251,.1)'
                            }]),
                        }
                    }
                },
                data: ylineData
            },
        ]
    };
    optionLine3 = {
        // 提示框
        tooltip: {
            trigger: 'axis',
            axisPointer: {            // 坐标轴指示器，坐标轴触发有效
                type: 'line'        // 默认为直线，可选为：'line' | 'shadow'
                ,lineStyle:{
                    color:'#e6e6e6',
                    type:'solid'    // solid、dashed、dotted
                }
            },
            formatter:function (params) {

                function timeNumer(t) {
                    var t1=t,
                        t2=t++,
                        t3=t1+':00-'+t2+':59';
                    return t3;
                }
                let res ='<div style="display: flex;justify-content: space-between;background: #f7f8fa;border-bottom: 1px solid #e8ebee;padding: 8px 10px;"><span>'+ timeNumer(params[0].name) + '</span>'+'</div>';

                for (let i = 0, l = params.length; i < l; i++) {
                    res += '<div style="width: 200px;display: flex;justify-content: space-between;padding: 4px 10px;margin:5px 0;"><div><span style="margin-right: 2px;">'+params[i].marker +'</span>' + '<span>'+ params[i].seriesName +'</span></div>' + '<span>'+params[i].value +'</span></div>';
                }
                return res
            },
            confine:true,        //是否将 tooltip 框限制在图表的区域内。
            backgroundColor:'#fff',
            borderColor:'#e7eaed',
            borderRadius:5,
            padding:0,
            textStyle:{
                color:'#666',
                fontSize:12
            },
            extraCssText:'box-shadow: 0px 0px 20px 0px rgba(86, 96, 118, 0.2)',
        },

        grid: {
            right: '50px',
            bottom: '50px',
            left: '40px',
            top: '10px',
            containLabel: true
        },
        xAxis: [{
            type: 'category',
            data: xlineData ,
            axisLine: {
                show: true,
                lineStyle: {
                    color: '#d5d5d5',
                    backgroundColor: "#d5d5d5",
                    width:'2',
                }
            },
            axisTick: {
                show: false,
            },
            axisLabel: {
                show: true,
                interval: 1,    //  隔多少个显示下一个
                textStyle: {
                    color: "#333",
                    fontSize: 16,
                    backgroundColor: "#fff",
                },
            },
            offset:15,  // x 轴文字距离轴的距离
            boundaryGap:true   // 是否从 0 刻度开始

        }],
        yAxis: [{
            type: 'value',
            axisLine: {
                show:false,
                lineStyle: {
                    color: '#999'
                }
            },
            splitLine: {
                lineStyle: {
                    color: "#f1f1f1",
                    //type:"dashed"    // 虚线
                }
            },
            axisTick:{
                show:false
            },
            axisLabel: {
                show:true,
                color: '#999',
                fontSize: 16,
            },

        }],
        // 系列列表
        series: [
            {
                name: '浏览量',
                type: 'line',
                symbolSize: 6,
                itemStyle: {
                    normal: {
                        color: '#157bfb',
                        lineStyle: {
                            color: "#157bfb",
                            width:2
                        },
                        areaStyle: {
                            color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [{
                                offset: 0,
                                color: 'rgba(21,123,251,0)'
                            }, {
                                offset: 1,
                                color: 'rgba(21,123,251,.1)'
                            }]),
                        }
                    }
                },
                data: ylineData
            },
        ]
    };
    optionLine4 = {
        // 提示框
        tooltip: {
            trigger: 'axis',
            axisPointer: {            // 坐标轴指示器，坐标轴触发有效
                type: 'line'        // 默认为直线，可选为：'line' | 'shadow'
                ,lineStyle:{
                    color:'#e6e6e6',
                    type:'solid'    // solid、dashed、dotted
                }
            },
            formatter:function (params) {

                function timeNumer(t) {
                    var t1=t,
                        t2=t++,
                        t3=t1+':00-'+t2+':59';
                    return t3;
                }
                let res ='<div style="display: flex;justify-content: space-between;background: #f7f8fa;border-bottom: 1px solid #e8ebee;padding: 8px 10px;"><span>'+ timeNumer(params[0].name) + '</span>'+'</div>';

                for (let i = 0, l = params.length; i < l; i++) {
                    res += '<div style="width: 200px;display: flex;justify-content: space-between;padding: 4px 10px;margin:5px 0;"><div><span style="margin-right: 2px;">'+params[i].marker +'</span>' + '<span>'+ params[i].seriesName +'</span></div>' + '<span>'+params[i].value +'</span></div>';
                }
                return res
            },
            confine:true,        //是否将 tooltip 框限制在图表的区域内。
            backgroundColor:'#fff',
            borderColor:'#e7eaed',
            borderRadius:5,
            padding:0,
            textStyle:{
                color:'#666',
                fontSize:12
            },
            extraCssText:'box-shadow: 0px 0px 20px 0px rgba(86, 96, 118, 0.2)',
        },

        grid: {
            right: '50px',
            bottom: '50px',
            left: '40px',
            top: '10px',
            containLabel: true
        },
        xAxis: [{
            type: 'category',
            data: xlineData ,
            axisLine: {
                show: true,
                lineStyle: {
                    color: '#d5d5d5',
                    backgroundColor: "#d5d5d5",
                    width:'2',
                }
            },
            axisTick: {
                show: false,
            },
            axisLabel: {
                show: true,
                interval: 1,    //  隔多少个显示下一个
                textStyle: {
                    color: "#333",
                    fontSize: 16,
                    backgroundColor: "#fff",
                },
            },
            offset:15,  // x 轴文字距离轴的距离
            boundaryGap:true   // 是否从 0 刻度开始

        }],
        yAxis: [{
            type: 'value',
            axisLine: {
                show:false,
                lineStyle: {
                    color: '#999'
                }
            },
            splitLine: {
                lineStyle: {
                    color: "#f1f1f1",
                    //type:"dashed"    // 虚线
                }
            },
            axisTick:{
                show:false
            },
            axisLabel: {
                show:true,
                color: '#999',
                fontSize: 16,
            },

        }],
        // 系列列表
        series: [
            {
                name: '浏览量',
                type: 'line',
                symbolSize: 6,
                itemStyle: {
                    normal: {
                        color: '#157bfb',
                        lineStyle: {
                            color: "#157bfb",
                            width:2
                        },
                        areaStyle: {
                            color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [{
                                offset: 0,
                                color: 'rgba(21,123,251,0)'
                            }, {
                                offset: 1,
                                color: 'rgba(21,123,251,.1)'
                            }]),
                        }
                    }
                },
                data: ylineData
            },
        ]
    };

    optionpie1 = {
        color:["#89fd79","#21ad95","#364bce","#53aaf7","#fdce2e","#fc903e","#dd5ff7","#9333f1","#29e567"],
        tooltip: {
            trigger: 'item',
            formatter: function(param){
                let res ='<div style="width: 200px;background: #f7f8fa;border-bottom: 1px solid #e8ebee;padding:8px 10px;border-radius:5px 5px 0 0"><span style="display: inline-block;margin-right: 8px;width: 8px;height: 8px;">'+ param.marker + '</span>' + param.name +'</div>' +
                    '<div style="display: flex;justify-content: space-between;padding: 7px 10px;margin-top: 7px"><span>收入金额</span>' + param.value + '</div>' +
                    '<div style="display: flex;justify-content: space-between;padding: 7px 10px;margin-bottom: 7px"><span>占总比</span>' + param.percent.toFixed(1)+ '%</div>';
                return res;
            },
            confine:true,        //是否将 tooltip 框限制在图表的区域内。
            backgroundColor:'#fff',
            borderColor:'#e7eaed',
            borderRadius:5,
            padding:0,
            textStyle:{
                color:'#666',
                fontSize:12
            },
            extraCssText:'box-shadow: 0px 0px 20px 0px rgba(86, 96, 118, 0.2)'
        },
        legend: {
            textStyle: {
                color: '#333',
                fontSize: 14,
            },
            itemGap:30,
            itemWidth:10,
            itemHeight:10,
            top: 340,
            left:50,
            align: 'auto',
            data: ['系列课','干货专栏','会员裂变','商城','打赏','直播话题','直播主题','直播商品','线下扣佣']
        },
        series: [
            {
                type:'pie',
                center: ['50%', '40%'],
                radius: ['50%', '60%'],
                avoidLabelOverlap: true,   //防止标签重叠策略
                hoverOffset:10,
                label: {
                    normal: {
                        show: false,
                        position: 'outter',
                        formatter: "{d}%",
                        color:'#666'
                    }
                },
                labelLine: {
                    normal: {
                        show: true,
                        lineStyle:{
                            color:'#c9cfd8'
                        }
                    }
                },
                itemStyle: {
                    borderRadius: 0,
                    borderColor: '#fff',
                    borderWidth: 4
                },
                data:[
                    {value:3980.00, name:'系列课'},
                    {value:7960.00, name:'干货专栏'},
                    {value:10000.00, name:'会员裂变'},
                    {value:15920.00, name:'商城'},
                    {value:19900.00, name:'打赏'},
                    {value:23880.00, name:'直播话题'},
                    {value:27860.00, name:'直播主题'},
                    {value:31840.00, name:'直播商品'},
                    {value:0, name:'线下扣佣'}
                ]
            }
        ]
    };
    optionpie2 = {
        color:["#2163e6","#f2cf24","#ff8533"],
        tooltip: {
            trigger: 'item',
            formatter: function(param){
                let res ='<div style="width: 200px;background: #f7f8fa;border-bottom: 1px solid #e8ebee;padding:8px 10px;border-radius:5px 5px 0 0"><span style="display: inline-block;margin-right: 8px;width: 8px;height: 8px;">'+ param.marker + '</span>' + param.name +'</div>' +
                    '<div style="display: flex;justify-content: space-between;padding: 7px 10px;margin-top: 7px"><span>支出金额</span>' + param.value + '</div>' +
                    '<div style="display: flex;justify-content: space-between;padding: 7px 10px;margin-bottom: 7px"><span>占总比</span>' + param.percent.toFixed(1)+ '%</div>';
                return res;
            },
            confine:true,        //是否将 tooltip 框限制在图表的区域内。
            backgroundColor:'#fff',
            borderColor:'#e7eaed',
            borderRadius:5,
            padding:0,
            textStyle:{
                color:'#666',
                fontSize:12
            },
            extraCssText:'box-shadow: 0px 0px 20px 0px rgba(86, 96, 118, 0.2)'
        },
        legend: {
            textStyle: {
                color: '#333',
                fontSize: 14,
            },
            itemGap:30,
            itemWidth:10,
            itemHeight:10,
            top: 340,
            align: 'auto',
            data: ['已支出金额','预支出金额','申请提现金额']
        },
        series: [
            {
                type:'pie',
                center: ['50%', '40%'],
                radius: ['50%', '60%'],
                avoidLabelOverlap: true,   //防止标签重叠策略
                hoverOffset:10,
                label: {
                    normal: {
                        show: false,
                        position: 'outter',
                        formatter: "{d}%",
                        color:'#666'
                    }
                },
                labelLine: {
                    normal: {
                        show: true,
                        lineStyle:{
                            color:'#c9cfd8'
                        }
                    }
                },
                itemStyle: {
                    borderRadius: 0,
                    borderColor: '#fff',
                    borderWidth: 4
                },
                data:[
                    {value:3980.00, name:'已支出金额'},
                    {value:7960.00, name:'预支出金额'},
                    {value:10000.00, name:'申请提现金额'}
                ]
            }
        ]
    };

    //
    mainLine1.setOption(optionLine1);
    mainLine2.setOption(optionLine2);
    mainLine3.setOption(optionLine3);
    mainLine4.setOption(optionLine4);
    mainpie1.setOption(optionpie1);
    mainpie2.setOption(optionpie2);


    charts.push(mainLine1,mainLine2,mainLine3,mainLine4,mainpie1,mainpie2);

    // 重载图表
    setTimeout(function (){
        window.onresize = function () {
            mainLine1.resize();
            mainLine2.resize();
            mainLine3.resize();
            mainLine4.resize();
            mainpie1.resize();
            mainpie2.resize();
        }
    },200);

    // 限制图表最后一个不能隐藏
    for(var i = 0; i < charts.length; i++) {
        charts[i].on('legendselectchanged', function (params) {

            let option = this.getOption();
            let select_key = Object.keys(params.selected);
            let select_value = Object.values(params.selected);
            var n = 0;
            select_value.map(res => {
                if(!res){
                    n++;
                }
            });
            if( n ===select_value.length){
                option.legend[0].selected[params.name] = true;
            }

            this.setOption(option);
        });
    }

    $('.headBar li').click(function (){
        $(this).addClass('active').siblings().removeClass('active');
        var txt = $(this).text()
        if(txt === '收支情况走势'){
            $('#mainLine1').show();
            $('#mainCont2,#mainCont3').hide();
        }else if(txt === '收入来源分析'){
            $('#mainCont2').show();
            $('#mainCont3,#mainLine1').hide();
        }else{
            $('#mainCont3').show();
            $('#mainCont2,#mainLine1').hide();
        }
        for(var i = 0; i < charts.length; i++) {
            charts[i].resize();
        }
    });


</script>
</body>
</html>