<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>同步数据</title>
    <link rel="stylesheet" href="css/font-awesome.css?v=4.4.1" >
    <link rel="stylesheet" href="js/layui/css/layui.css?2" media="all">
    <link rel="stylesheet" href="js/layui/css/layer.css?2">
    <link rel="stylesheet" href="css/style.css?v=1.0.1">
    <style>
        .activity_set3 .a_list{font-size: 16px;}
        .activity_set3 .a_list .a_list_l{min-width: 180px;}
        .btn{font-size: 16px;}
        .layui-progress, .layui-progress .layui-progress-bar {height: 12px;line-height: 12px;}
        .layui-progress-bar{background-color: rgb(255 184 0);background-image: repeating-linear-gradient(120deg, rgba(255, 255, 255, 0) 0, rgba(255, 255, 255, 0) 6px, rgba(255, 255, 255, 0.5) 0, rgba(255, 255, 255, 0.5) 10px);}

    </style>
</head>
<body id="chutiyan">

<div class="activity_set activity_set3 ">
    <div class="b-line">
        <div class="a_list">
            <div class="a_list_r r-title">系统与<span class="notExpired mgL-4">公众号『雷军』</span>的用户信息同步</div>
        </div>
        <div class="a_list">
            <span class="a_list_l">第1步：查询公众号</span>
            <div class="a_list_r">
                <span class="btn"><i class="layui-icon layui-icon-search mgR-4" style="color: #0a6cd6"></i>查询公众号关注用户</span>
            </div>
        </div>
        <div class="a_list">
            <span class="a_list_l"></span>
            <div class="a_list_r">
                <div>
                    <p class="mgT-10" style="font-size: 16px;">
                        <span>公众号现有关注用户：</span>
                        <b class="mgL-10 mgR-4" style="font-size: 22px;">10000</b>位
                    </p>
                    <p class="mgT-20" style="font-size: 16px;">
                        <span>系统中现有关注用户：</span>
                        <b class="mgL-10 mgR-4 expired" style="font-size: 22px;">1000</b>位
                        <span style="font-size: 16px;">（累计总用户2000位），</span>需同步&nbsp;&nbsp;<span style="font-size: 22px;font-weight: bold">9000</span> 条
                    </p>
                </div>
            </div>
        </div>
        <div class="a_list mgT-20">
            <span class="a_list_l">第2步：数据同步</span>
            <div class="a_list_r">
                <span class="btn" style="background: #1E9FFF;color: #fff;border: none"><i class="layui-icon layui-icon-refresh-1 mgR-4"></i>点击开始同步用户</span>
                <span class="btn" style="background: #009688;color: #fff;border: none"><i class="layui-icon layui-icon-refresh-1 mgR-4"></i>点击开始更新用户</span>
            </div>
        </div>
        <div class="a_list">
            <span class="a_list_l"></span>
            <div class="a_list_r">
                <div>
                    <div class="layui-progress" lay-filter="demo" style="margin-top: 24px;">
                        <div class="layui-progress-bar" lay-percent="0%"></div>
                    </div>

                    <p style="font-size: 16px;margin-top: 24px;">
                        已同步：<span class="notExpired" style="font-size: 22px;font-weight: bold">10000</span>&nbsp;&nbsp;条，每次同步
                        <span style="font-size: 22px;font-weight: bold">1000</span>&nbsp;&nbsp;条，已同步
                        <span style="font-size: 22px;font-weight: bold">0</span>&nbsp;&nbsp;次
                    </p>
                    <a style="font-size: 20px;font-weight: bold;margin-top: 24px;display: block">在同步数据过程中，请<span class="expired">不要刷新或离开</span>当前页面，以免造成数据同步失败！！！</a>




                    <span style="margin-top: 48px;font-size: 30px;color: #4fd659;">同步成功!!!</span>

                </div>
            </div>
        </div>

    </div>
</div>



<script src="js/jquery.min.js"></script>
<script src="js/layui/lay/modules/layer.js"></script>
<script src="js/layui/layui.js"></script>
<script src="js/myjs.js"></script>
<script>
    <!--离开当前窗口 或 刷新当前页面 都要提示用户 -->
    window.onbeforeunload = function(e) {
        console.log('beforeunload')
        return '';
    };

    setInterval(function () {
        layui.use('element', function(){
            var $ = layui.jquery
                ,element = layui.element; //Tab的切换功能，切换事件监听等，需要依赖element模块
            var timer;

            clearInterval(timer);
            element.progress('demo', '100%');

            timer = setInterval(function () {
                element.progress('demo', '0%');
                clearInterval(timer);
            },800)
        });
    },1500)



</script>


</body>
</html>